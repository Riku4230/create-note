# 記事投稿完了ワークフロー

## トリガー
ユーザーが「記事投稿完了」と入力した時

## 実行手順

### 1. 投稿完了確認
```
記事投稿完了の処理を開始します！
投稿された記事を整理して、システムを更新しますね。
```

### 2. 記事情報の更新
現在作成中の記事の情報を更新：

#### ステータス更新
`article_info.md` の更新：
```markdown
## ステータス
- **現在のフェーズ**: 投稿完了
- **進捗**: 記事投稿済み
- **投稿日**: [投稿日]
- **次のアクション**: なし（完了）

## 投稿情報
- **投稿プラットフォーム**: note
- **最終タイトル**: [実際のタイトル]
- **最終文字数**: [文字数]文字
- **投稿URL**: [URL]（手動入力可能）
- **投稿時刻**: [時刻]

## 投稿後メモ
- **反響**: [後日追記可能]
- **改善点**: [後日追記可能]  
- **次回への教訓**: [後日追記可能]
```

### 3. ファイル移動処理
記事フォルダを `drafts/` から `published/` に移動：

#### 移動前の確認
```
移動する記事フォルダ:
📁 articles/drafts/[記事フォルダ名]/
├── 📄 article_info.md
├── 📄 research_notes.md  
├── 📄 outline.md
└── 📄 draft.md

この記事を投稿済みフォルダに移動しますか？
```

#### 移動処理
- `articles/drafts/[記事フォルダ名]/` → `articles/published/[記事フォルダ名]/`
- フォルダ内の全ファイルをそのまま移動
- 移動日時をログに記録

### 4. アーカイブデータの更新
`articles/archive/` フォルダに記事情報を追加：

#### 記事メタデータの抽出
- タイトル、投稿日、カテゴリ
- 使用したキーワード
- 文字数、想定読了時間
- 記事の要約

#### アーカイブファイル更新
`articles/archive/article_index.md` に記事情報を追加：
```markdown
## [投稿日] - [記事タイトル]
- **フォルダ**: published/[フォルダ名]
- **カテゴリ**: [カテゴリ]
- **文字数**: [文字数]文字
- **キーワード**: [キーワード1], [キーワード2]
- **要約**: [記事の要約]
- **特徴**: [この記事の特徴や成功要因]
```

### 5. 次回記事の提案準備
投稿完了した記事を基に、次回記事の提案を準備：

#### 関連記事のアイデア
- 今回の記事の深掘り
- 関連するテーマでの展開
- 読者からの反応を予想した続編

#### トレンド分析更新
- 投稿したテーマの動向確認
- 関連キーワードのトレンド状況
- 競合記事の動向

### 6. 統計情報の更新
システム全体の統計を更新：

#### 投稿統計
```markdown
# 投稿統計（[年月]時点）

## 基本統計
- **総投稿記事数**: [数]記事
- **今月投稿数**: [数]記事
- **平均文字数**: [数]文字
- **主要カテゴリ**: [カテゴリ1], [カテゴリ2]

## 最近の傾向
- **人気テーマ**: [テーマ]
- **よく使うキーワード**: [キーワード]
- **記事タイプ分布**: ノウハウ[%], 体験談[%], 考察[%]

## 次回記事候補
1. [アイデア1]
2. [アイデア2]  
3. [アイデア3]
```

### 7. 完了通知とフィードバック収集
```
記事投稿完了の処理が終了しました！

【処理完了内容】
✅ 記事ステータスを「投稿完了」に更新
✅ 記事フォルダを投稿済みフォルダに移動
✅ アーカイブデータを更新
✅ システム統計を更新

【投稿記事情報】
- タイトル: [タイトル]
- 投稿日: [日付]
- 文字数: [文字数]文字
- 保存場所: articles/published/[フォルダ名]/

お疲れさまでした！
投稿後の反響や気づいた点があれば、いつでもお聞かせください。

次の記事のアイデアはありますか？
「新規記事作成」でいつでも新しい記事を始められます。
```

### 8. オプション機能
投稿完了後の便利機能：

#### 記事URL登録
```
投稿記事のURLを登録しますか？
URLを入力していただければ、記事情報に追加します。

例: https://note.com/riku0423/n/xxxxxxxx
```

#### 反響記録機能
```
投稿後の反響を記録できます：
- いいね数
- コメント数  
- ビュー数
- 印象的な反応

後日でも追記可能です。
```

## 特別機能

### 自動バックアップ
- 投稿完了記事の自動バックアップ作成
- 重要なファイルのバージョン管理
- データ損失防止機能

### 記事分析機能
- 投稿記事の傾向分析
- 成功パターンの抽出
- 改善点の提案

### 次回記事提案機能
- 投稿記事をベースとした関連記事提案
- トレンド分析による記事アイデア生成
- 読者ニーズ予測

## エラーハンドリング
- ファイル移動でエラーが発生した場合の回復処理
- データ更新に失敗した場合のロールバック機能
- バックアップからの復元機能 